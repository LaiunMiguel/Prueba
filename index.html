<!DOCTYPE html>
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="sudoku-app/public/css/root.css">
    <link rel="stylesheet" href="sudoku-app/public/css/animaciones.css">
    <link rel="stylesheet" href="sudoku-app/public/css/menus.css">
    <link rel="stylesheet" href="sudoku-app/public/css/ventanaJuego.css">
    <link rel="stylesheet" href="sudoku-app/public/css/tecladoVirtual.css">
    <link rel="stylesheet" href="sudoku-app/public/css/menusFinalDelJuego.css">
    <link rel="stylesheet" href="sudoku-app/public/css/menuConfig.css">
    
    <title>Sudoku</title>

    <style>
        body{
            background-image: url("/Prueba/sudoku-app/assets/background.jpg");
            background-color: #d8d4b6;
            display: flex;
            justify-content: center;
            background-repeat: repeat;
            background-size: 35%;
            background-position: center; 
  
                             
        }
   
    </style>
</head>
<body>
   
    <div id="banner">
        <div style="display: flex; flex-direction: row";>
            <div id="menuDespegable">
                <button class="menuDespegable-boton" onclick="abrirMenu()" >Nuevo Juego</button>
                <div class="menuDesplejado">
                    <button class="dificultad" onclick="iniciarTablero(1)">Fácil</button>
                    <button class="dificultad" onclick="iniciarTablero(2)">Medio</button>
                    <button class="dificultad" onclick="iniciarTablero(3)">Difícil</button>
                    <button class="dificultad" onclick="iniciarTablero(4)">Muy Difícil</button>
                </div>
            </div>
            <button id="botonGuardar" class="botonInfo" onclick="guardarPartida()">Guardar Partida</button>   
            <button id="botonCarga" class="botonInfo" onclick="recargarPartida()">Cargar Partida</button>   
            <button class="botonInfo" onclick="abrirConfiguracion()">Configurar Colores</button>   
        </div>   
        
        <div>
            <button id="botonReinicarConfiguraciones" class="botonInfo" onclick="reiniciarDeFabrica()">Reiniciar Colores</button>
        </div>  
    </div>

    <div id="configMenu" class="configMenu ocultar "> 
        <div class="config">
            <div class="textConfig">Tablero</div>
            <input type="color" class="configColor" id="colorTablero">
        </div>
        <div class="config">
            <div class="textConfig">Cuadros</div>
            <input type="color" class="configColor" id="colorCuadros">
        </div>
        <div class="config">
            <div class="textConfig">Celdas</div>
            <input type="color" class="configColor" id="colorCeldas">
        </div>
        <div class="config">
            <div class="textConfig">Celdas Completadas</div>
            <input type="color" class="configColor" id="colorCeldasCompletadas">
        </div>
        <div class="config">
            <div class="textConfig">Numeros </div>
            <input type="color" class="configColor" id="colorNumeros">
        </div>
        <div class="config">
            <div class="textConfig">Filas y Columunas</div>
            <input type="color" class="configColor" id="colorFyC">
        </div>
        <div class="config">
            <div class="textConfig">Resalte de Numeros</div>
            <input type="color" class="configColor" id="colorResalteNumeros">
        </div> 
        <div class="divBotones">
            <button class= "botonConfig" onclick="guardarMenuConfig()">Guardar</button>
            <button class= "botonConfig" onclick="cancelarMenuConfig()">Cancelar</button>
        </div>
    </div>

    <div id="menuFinDelJuegoNuevaPartida" class="newGameMenu">
                    <button class="botonInfo" onclick="iniciarTablero(1)">Fácil</button>
                    <button class="botonInfo" onclick="iniciarTablero(2)">Medio</button>
                    <button class="botonInfo" onclick="iniciarTablero(3)">Difícil</button>
                    <button class="botonInfo" onclick="iniciarTablero(4)">Muy Difícil</button>
    </div>

    <div id="terminoLaPartida" class="mensaje ocultar">
        <p id="mensajeFinal"></p>
        <div class="contBotones">
            <button class="botonFinal" onclick="nuevoJuego()">Nuevo Juego</button>
            <button class="botonFinal" onclick="verTablero()">Ver tablero</button>
        </div>
    </div>
    <div id = juegoTablero>
            <div id= contenedorInfo>
                <div id = vidas class="conenedorVidas">
                    <span>Vidas: </span>
                </div>
                <button id="bontonPista"  onclick="pedirPista()">Pista</button>
                <div id = timer class="conenedorTiempo">
                    <span id="tiempo">0:00</span>
                </div>
            </div>
            <div id = tablero></div>
            <div id="tecladoVirtual"></div>
    </div>


<script src="sudoku-app/public/js/sudokuGenerator.js"></script>
<script src="sudoku-app/public/js/tablero.js"></script>
<script src="sudoku-app/public/js/tecladoVirtual.js"></script>
<script src="sudoku-app/public/js/tableroUI.js"></script>
<script src="sudoku-app/public/js/vidas.js"></script>
<script src="sudoku-app/public/js/tiempo.js"></script>
<script src="sudoku-app/public/js/finalizador.js"></script>
<script src="sudoku-app/public/js/contadores.js"></script>
<script src="sudoku-app/public/js/config.js"></script>
<script src="sudoku-app/public/js/moverConfig.js"></script>
<script src="sudoku-app/public/js/pista.js"></script>
<script src="sudoku-app/public/js/guardarPartida.js"></script>

</body>

<script>
    
    const menuNuevoJuego = document.getElementById('menuDespegable');
    const menuFinDelJuegoNuevaPartida = document.getElementById('menuFinDelJuegoNuevaPartida');

    function abrirMenu(){
        menuNuevoJuego.classList.add('show-menu');
    }

    function cerrarMenu(){
        menuNuevoJuego.classList.remove('show-menu'); 
        menuFinDelJuegoNuevaPartida.classList.add('ocultar');

    }
</script>


<script>
    cargarColoresDesdeLocalStorage();

    let tableroComportamiento;
    let minutos;
    let segundos;
    let vidas;

    function iniciarTablero(nivel) {
        minutos  = 0;
        segundos = 0;
        vidas =3;
        detenerTemp();
        tableroComportamiento = new Tablero(nivel);
        iniciarTemporizador();
        crearTableroUI();
        iniciarConteo();
        iniciarTeclado();
        removerTeclas();
        actualizarVidas();
        casillasCompletas = 81 - (nivel*15);
        cargarConfiguarcion();
        habilitarGuardado()
        cerrarMenu()
    }

    function recargarPartida(){
        detenerTemp();
        tableroComportamiento = cargarPartida();
        cargarTemporizador();
        cargarVidas();
        iniciarTemporizador();
        crearTableroUI();
        iniciarConteo();
        iniciarTeclado();
        removerTeclas();
        actualizarVidas();
        casillasCompletas = cargarCasillasCompletas()
        cargarConfiguarcion();
        habilitarGuardado()
        cerrarMenu()
    }


</script>

</html>